R1:
en
conf t
hostname R1
ip domain-name admin
crypto key generate rsa
1024
enable password cisco
line vty 0 15
transport input ssh
login local
int gig0/0
ip address 192.168.10.1 /30
no shut
exit
int se0/0/0
ip address 20.0.0.1 /8
no shut
exit
int se0/0/1
ip address 22.0.0.1 /8
clock rate 128000
no shut
router rip 
version 2
network 192.168.10.0
network 20.0.0.0
network 22.0.0.0

R2:
en
conf t
hostname R2
ip domain-name admin
crypto key generate rsa
1024
enable password cisco
line vty 0 15
transport input ssh
login local
int gig0/0
ip address 192.168.20.1 /30
no shut
exit
int gig0/1
ip address 192.168.30.1 /30
no shut
exit
int se0/0/0
ip address 20.0.0.2 /8
no shut
exit
int se0/0/1
ip address 21.0.0.1 /8
no shut
router rip 
version 2
network 192.168.20.0
network 20.0.0.0
network 21.0.0.0
network 192.168.30.0

R3:
en
conf t
hostname R3
ip domain-name admin
crypto key generate rsa
1024
enable password cisco
line vty 0 15
transport input ssh
login local
int gig0/0
ip address 192.168.50.1 /30
no shut
exit
int se0/0/0
ip address 22.0.0.2 /8
no shut
exit
int se0/0/1
ip address 21.0.0.2 /8
clock rate 128000
no shut
exit
int gig0/1
ip address 192.168.40.1 /30
router rip 
version 2
network 192.168.40.0
network 21.0.0.0
network 22.0.0.0
network 192.168.50.0

SW1:
en
conf t
hostname SW1
spanning-tree mode rapid-pvst
spanning-tree vlan 1 root primary
exit
int range fa0/1-2
channel-group 1 mode active
exit
int port-channel 1
switchport mode trunk

SW2:
en
conf t
spanning-tree mode rapid-pvst
spannin-tree vlan 1 root secondary
int range fa0/1-24
switchport mode access
spanning-tree portfast
spanning-tree bpduguard enable
exit
int range fa0/1-2
channel-group 2 mode passive
exit
int port-channel 2
switchport mode trunk
exit
int range fa0/3-4
channel-group 3 mode active
exit
int port-channel 3
switchport mode trunk


SW3:
en
conf t
spanning-tree mode rapid-pvst
spanning-tree vlan 1 root secondary
int range fa0/1-24
switchport mode access
spanning-tree portfast
spanning-tree bpduguard enable
exit
int range fa0/1-2
channel-group 4 mode passive
exit
int port-channel 4
switchport mode trunk
exit